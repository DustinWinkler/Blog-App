{"version":3,"sources":["api/users.js","components/LoginForm.js","components/SignupForm.js","components/Header.js","api/posts.js","components/DeletePopup.js","components/Posts.js","api/comments.js","components/Comment.js","components/Post.js","App.js","index.js"],"names":["login","username","password","a","axios","post","catch","e","res","data","token","signup","status","getUserDetails","get","headers","LoginForm","props","useState","onLoad","setOnLoad","setUsername","setPassword","error","setError","preventDefault","console","log","toggleFunc","loginFunc","useEffect","document","addEventListener","target","id","className","value","onChange","onClick","SignupForm","success","setSuccess","signupSuccess","setTimeout","Header","loginModal","setLoginModal","signupModal","setSignupModal","toggleLogin","toggleSignup","to","loggedIn","userDetails","signoutFunc","getAllPosts","getPost","postid","createPost","updatePost","put","title","content","deletePost","delete","DeletePopup","deleteFunc","Posts","posts","setPosts","postForm","setPostForm","postContent","setPostContent","postTitle","setPostTitle","editMode","setEditMode","editingPostId","setEditingPostId","deleting","setDeleting","deletingIndex","setDeletingIndex","then","map","shortContent","substring","length","getElementById","key","prev","concat","isAdmin","rows","localStorage","getItem","indexOfPostToUpdate","findIndex","comment","i","_id","newPosts","newPost","comments","author","columnsCountBreakPoints","gutter","icon","faTrash","handlePostUpdate","faEdit","filter","handlePostDelete","getComments","createComment","updateComment","deleteComment","commentid","Comment","handleUpdate","handleDelete","Post","setPost","setComments","postLoading","setPostLoading","commentsLoading","setCommentsLoading","commentForm","setCommentForm","commentContent","setCommentContent","editingCommentId","setEditingCommentId","useParams","handleCommentUpdate","indexOfCommentToUpdate","newComments","newComment","authorDetails","indexOfCommentToDelete","handleCommentDelete","App","setLoggedIn","setUserDetails","setItem","removeItem","exact","path","component","meme","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b5185e85.chunk.js","sourcesContent":["import axios from \"axios\"\n\nconst login = async (username, password) => {\n  const res = await axios.post('/api/login', {username: username, password: password}).catch(e => {})\n\n  if (res) {\n    return res.data.token\n  } else {\n\n  }\n}\n\nconst signup = async (username, password) => {\n  const res = await axios.post('/api/signup', {username: username, password: password})\n\n\n  if (res.status === 200) {\n    return true\n  } else {\n    return false\n  }\n}\n\nconst getUserDetails = async (token) => {\n  const res = await axios.get('/api/getuserdetails', {headers: {'Authorization': `Bearer ${token}`}})\n\n  return res.data\n  \n}\n\nexport { login, signup, getUserDetails }","import React, { useState, useEffect } from 'react'\nimport { login } from '../api/users'\n\nfunction LoginForm(props) {\n  const [onLoad, setOnLoad] = useState(false)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    setOnLoad(true)\n  }, [])\n\n  document.addEventListener('click', (e) => {\n    if (e.target.id === 'outside') {\n      props.toggleFunc()\n    }\n  })\n\n  function handleUsernameChange(e) {\n    setUsername(e.target.value)\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value)\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n    const token = await login(username, password)\n    console.log(token)\n    if (!token) {\n      setError(true)\n    } else {\n      props.toggleFunc()\n      props.loginFunc(token, username)\n    }\n  }\n\n  return (\n    <div id=\"outside\" className={'absolute z-50 w-full h-screen text-center p-2 bg-gray-700 z-0 inset-0 transition-all ' + (onLoad ? 'bg-opacity-80' : 'bg-opacity-0')}>\n      <div className={\"relative mt-12 p-6 m-auto border-2 border-gray-600 rounded-md bg-gray-100 text-black w-max h-auto transition-all \"  + (onLoad ? 'inset-0' : 'top-44')}>\n        <h1 className=\"text-3xl\">Login</h1>\n\n        {error ? <h1 className=\"text-red-500 text-sm mt-1 -mb-3\">\n          Incorrect Username or Password\n        </h1>\n        : ''}\n\n        <form className=\"mt-4\">\n          <label>Username</label>\n          <input className=\"pl-1 block border border-gray-600 rounded mx-auto mb-2\" value={username} onChange={handleUsernameChange} />\n          <label>Password</label>\n          <input className=\"pl-1 block border border-gray-600 rounded mx-auto mb-2\" value={password} onChange={handlePasswordChange} />\n          <button className=\"border border-gray-600 px-4 py-1 rounded bg-white\" onClick={handleSubmit}>Submit</button>\n        </form>\n      </div>\n      \n    </div>\n  )\n}\n\nexport default LoginForm\n\n","import React, { useState, useEffect } from 'react'\nimport { signup } from '../api/users'\n\nfunction SignupForm(props) {\n  const [onLoad, setOnLoad] = useState(false)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(false)\n  const [success, setSuccess] = useState(false)\n\n  useEffect(() => {\n    setOnLoad(true)\n  }, [])\n\n  document.addEventListener('click', (e) => {\n    if (e.target.id === 'outside') {\n      props.toggleFunc()\n    }\n  })\n\n  function handleUsernameChange(e) {\n    setUsername(e.target.value)\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value)\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    setError(false)\n    setSuccess(false)\n\n    const signupSuccess = await signup(username, password)\n    console.log(signupSuccess)\n    if (signupSuccess) {\n      setSuccess(true)\n      setTimeout(()=>{\n        props.toggleFunc()\n      }, 5000)\n    } else {\n      setError(true)\n    }\n  }\n\n  return (\n    <div id=\"outside\" className={'absolute z-50 w-full h-screen text-center p-2 bg-gray-700 z-0 inset-0 transition-all ' + (onLoad ? 'bg-opacity-80' : 'bg-opacity-0')}>\n\n      {success ? <div className='relative mx-auto mt-4 -mb-4 bg-green-200 border-2 border-green-700 rounded text-green-700 py-2 px-4 w-max'>\n        Signup Successful <br></br>\n        Go ahead and login\n      </div> : ''}\n\n      {error ? <div className='relative mx-auto mt-4 -mb-4 bg-red-200 border-2 border-red-700 rounded text-red-700 py-2 px-4 w-max'>\n        There was an error signing up\n      </div> : ''}\n\n      <div className={\"relative mt-12 p-6 m-auto border-2 border-gray-600 rounded-md bg-gray-100 text-black w-max h-auto transition-all \"  + (onLoad ? 'inset-0' : 'top-44')}>\n        <h1 className=\"text-3xl\">Sign Up</h1>        \n\n        <form className=\"mt-4\">\n          <label>Username</label>\n          <input className=\"pl-1 block border border-gray-600 rounded mx-auto mb-2\" value={username} onChange={handleUsernameChange} />\n          <label>Password</label>\n          <input className=\"pl-1 block border border-gray-600 rounded mx-auto mb-2\" value={password} onChange={handlePasswordChange} />\n          <button className=\"border border-gray-600 px-4 py-1 rounded bg-white\" onClick={handleSubmit}>Submit</button>\n        </form>\n      </div>\n\n    </div>\n  )\n}\n\nexport default SignupForm\n\n","import React, { useState } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport LoginForm from './LoginForm'\nimport SignupForm from './SignupForm'\n\nfunction Header(props) {\n  const [loginModal, setLoginModal] = useState(false)\n  const [signupModal, setSignupModal] = useState(false)\n\n  const toggleLogin = () => {\n    setLoginModal(!loginModal)\n    setSignupModal(false)\n  }\n\n  const toggleSignup = () => {\n    setSignupModal(!signupModal)\n    setLoginModal(false)\n  }\n\n  return (\n    <div className =\"py-6 px-3 bg-gray-800 text-white md:flex text-center w-full mx-auto\">\n      {loginModal ? <LoginForm loginFunc={props.loginFunc} toggleFunc={toggleLogin}/> : ''}\n\n      {signupModal ? <SignupForm toggleFunc={toggleSignup} /> : ''}\n\n      <h1 className=\"text-5xl font-mono font-bold m-auto w-full text-center \">\n      <NavLink to='/'>Dustin's Blog</NavLink>\n    </h1>\n    <nav className=\"w-max w-full md:absolute mx-auto mt-4 right-4 top-3\">\n      {props.loggedIn ? \n      <div>\n        <p className=''>Welcome {props.userDetails.username}!</p>\n        <button onClick={props.signoutFunc}>Sign Out</button>\n      </div>\n        :\n        <ul>\n          <button className='block' onClick={toggleLogin}>Log in</button>\n          <button onClick={toggleSignup}>Sign up</button>\n        </ul>\n      }\n    </nav>\n    </div>\n  )\n}\n\nexport default Header\n","import axios from \"axios\"\n\nconst getAllPosts = async () => {\n  const res = await axios.get('/api/posts')\n  return res.data\n}\n\nconst getPost = async (postid) => {\n  const res = await axios.get(`/api/posts/${postid}`)\n  return res.data\n}\n\n// must be admin\nconst createPost = async (token, post) => {\n  const res = await axios.post('/api/posts', post, {headers: {'authorization': `Bearer ${token}`}})\n\n  return res\n}\n\n//must be author or admin\nconst updatePost = async (token, postid, post) => {\n  const res = await axios.put(`/api/posts/${postid}`, {\n    title: post.title,\n    content: post.content\n  }, {headers: {'authorization': `Bearer ${token}`}})\n\n  return res\n}\n\n// must be author or admin\nconst deletePost = async (token, postid) => {\n  const res = await axios.delete(`/api/posts/${postid}`, {headers: {'authorization': `Bearer ${token}`}})\n\n  return res\n}\n\nexport { getAllPosts, getPost, createPost, updatePost, deletePost }","import React, { useState, useEffect } from 'react'\n\nfunction DeletePopup(props) {\n  const [onLoad, setOnLoad] = useState(false)\n\n  useEffect(() => {\n    setOnLoad(true)\n  }, [])\n\n  document.addEventListener('click', (e) => {\n    if (e.target.id === 'outside') {\n      props.toggleFunc()\n    }\n  })\n\n  console.log('weiner')\n\n  return (\n    <div id=\"outside\" className={'fixed z-50 w-full h-screen text-center p-2 bg-gray-700 z-0 inset-0 transition-all ' + (onLoad ? 'bg-opacity-80' : 'bg-opacity-0')}>\n      <div className={\"relative mt-12 p-6 m-auto border-2 border-gray-600 rounded-md bg-gray-100 text-black w-max h-auto transition-all \"  + (onLoad ? 'inset-0' : 'top-44')}>\n        <h1 className=\"text-3xl\">Delete?</h1>\n\n        <div className='w-full flex justify-around mt-2'>\n          <button onClick={props.deleteFunc}\n          className='border-2 py-2 px-4 rounded-md hover:bg-gray-100 hover:border-gray-800'>\n            Yes\n          </button>\n\n          <button onClick={props.toggleFunc}\n          className='border-2 py-2 px-4 rounded-md hover:bg-gray-100 hover:border-gray-800'>\n            No\n          </button>\n        </div>\n\n      </div>\n      \n    </div>\n  )\n}\n\nexport default DeletePopup\n","import React from 'react'\nimport { useEffect, useState } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { createPost, deletePost, getAllPosts, updatePost } from '../api/posts'\nimport Masonry, {ResponsiveMasonry} from 'react-responsive-masonry'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash, faEdit } from '@fortawesome/free-solid-svg-icons'\nimport DeletePopup from './DeletePopup'\n\n\nfunction Posts(props) {\n  const [posts, setPosts] = useState(null)\n  const [postForm, setPostForm] = useState(null)\n  const [postContent, setPostContent] = useState('')\n  const [postTitle, setPostTitle] = useState('')\n  const [editMode, setEditMode] = useState(false)\n  const [editingPostId, setEditingPostId] = useState('')\n  const [deleting, setDeleting] = useState(false)\n  const [deletingIndex, setDeletingIndex] = useState(null)\n\n  useEffect(() => {\n    getAllPosts().then(posts => {\n      posts.map(post => post.shortContent = post.content.substring(0,300) + (post.content.length > 300 ? '...' : ''))\n      setPosts(posts)\n    })\n\n    document.getElementById('posttextbox').addEventListener('keydown', e => {\n      if (e.key === 'Tab') {\n        e.preventDefault()\n        setPostContent(prev => prev.concat(\"  \"))\n      }\n    })\n  }, [])\n\n  function togglePost() {\n    setPostForm(!postForm)\n  }\n\n  function handlePostContent(e) {\n    e.preventDefault()\n    setPostContent(e.target.value)\n  }\n\n  function handlePostTitle(e) {\n    e.preventDefault()\n    setPostTitle(e.target.value)\n  }\n\n  function handlePostSubmit(e) {\n    e.preventDefault()\n\n    const token = localStorage.getItem('userToken')\n\n    if (editMode) {\n      const indexOfPostToUpdate = posts.findIndex((comment, i) => {\n        return comment._id === editingPostId\n      })\n\n      const newPosts = posts\n      newPosts[indexOfPostToUpdate].content = postContent\n      newPosts[indexOfPostToUpdate].title = postTitle\n      newPosts[indexOfPostToUpdate].shortContent = newPosts[indexOfPostToUpdate].content.substring(0,300) + (newPosts[indexOfPostToUpdate].content.length > 300 ? '...' : '')\n      setPosts(newPosts)\n      setPostForm(false)\n      setEditMode(false)\n      setTimeout(() => {\n        setPostContent('')\n        setPostTitle('')\n      }, 400)\n\n      //server side\n      updatePost(token, editingPostId, newPosts[indexOfPostToUpdate])\n\n    } else {\n      const newPost = {\n        comments: [],\n        author: props.userDetails.id,\n        title: postTitle,\n        content: postContent\n      }\n  \n      createPost(token, newPost).then(res => {\n        const newPost = res.data\n        newPost.content = postContent\n        newPost.title = postTitle\n        newPost.shortContent = newPost.content.substring(0,300) + (newPost.content.length > 300 ? '...' : '')\n        newPost.author = {\n          username: props.userDetails.username\n        }\n        console.log(newPost);\n        setPosts([...posts, newPost])\n        setPostForm(false)\n      })\n    }\n  }\n\n  function handlePostUpdate(post) {\n    setEditMode(true)\n    setEditingPostId(post._id)\n    setPostTitle(post.title)\n    setPostContent(post.content)\n    setPostForm(true)\n  }\n\n  function handlePostDelete() {\n    const id = posts[deletingIndex]._id\n    let newPosts = posts\n    newPosts = newPosts.filter((post, i) => {\n      return i !== deletingIndex\n    })\n    setPosts(newPosts)\n    setDeleting(false)\n    setDeletingIndex(null)\n\n    //server side\n    const token = localStorage.getItem('userToken')\n    deletePost(token, id)\n  }\n\n  function exitEditMode() {\n    setEditMode(false)\n    setEditingPostId('')\n    setPostForm(false)\n    setTimeout(() => {\n      setPostContent('')\n      setPostTitle('')\n    }, 400);\n  }\n\n  return (\n    <div className=\"w-4/5 mx-auto mt-4\">\n      {(props.loggedIn && props.userDetails.isAdmin) ?\n      <div>\n        <button className=\"block text-center w-48 py-2 bg-white px-3 rounded-md mx-auto -mt-4 mb-4 border-2 hover:border-gray-700 hover:bg-gray-100\"\n        onClick={togglePost}>\n          Add Post {postForm ? '-':'+'}\n        </button>\n      </div>\n      : '' }\n\n        <div className={'font-bold transition-all duration-500 bg-white overflow-hidden w-4/5 rounded-md border-2 box-border text-center mx-auto my-4 ' + (postForm ? 'max-h-screen border-gray-500' : 'max-h-0 border-gray-800')}>\n        <form>\n          <label className=\"block mt-2\">\n            Title\n          </label>\n          <input className='block resize-none w-4/5 px-10 mx-auto border-2 rounded-md pl-2 py-1 focus:border-gray-700 focus:outline-none'\n          value={postTitle} onChange={handlePostTitle}/>\n\n          <label className=\"block mt-2\">\n            Content\n          </label>\n          <textarea id='posttextbox' rows='15' className='block resize-none w-4/5 px-10 mx-auto border-2 rounded-md pl-2 py-1 focus:border-gray-700 focus:outline-none'\n          value={postContent} onChange={handlePostContent}/>\n          <button className='my-2 border-2 rounded-md px-4 py-2 mx-auto mr-2 hover:bg-gray-100 hover:border-blue-200'\n          onClick={handlePostSubmit}>\n            Submit\n          </button>\n          {editMode ? <button className='my-2 border-2 rounded-md px-4 py-2 mx-auto hover:bg-gray-100 hover:border-red-200' onClick={exitEditMode}>Exit Edit Mode</button> : ''}\n        </form>\n      </div>\n\n      <ResponsiveMasonry className='w-full'\n      columnsCountBreakPoints={{0:1, 768:2}}>\n        <Masonry gutter='15px'>\n          {!posts ? \"Loading...\" : \n            posts.map((post, i) => {\n              return (\n                <div key={i} className=\"relative border-2 bg-white w-full inline-block p-4 pb-8 box-border rounded-md hover:border-gray-500 hover:bg-gray-100 cursor-pointer\">\n                  <NavLink key={post._id} to={`/${post._id}`} className=\"w-max\">\n                  <h1 className=\"text-2xl mb-2 text-center font-bold\">{post.title}</h1>\n                  <p className=\"whitespace-pre-wrap\">{post.shortContent}</p>    \n                  <div className='border-b -mx-3 pb-2 mb-2'></div>              \n                  </NavLink>\n\n                  <p className='absolute'\n                  >{'- ' + post.author.username}</p>\n\n                  {(props.loggedIn && props.userDetails.isAdmin) ? \n                    <div>\n                      <FontAwesomeIcon onClick={()=>{\n                          setDeleting(true)\n                          setDeletingIndex(i)\n                      }} \n                      className=\"text-red-200 absolute bg-white bottom-2 right-1 p-1 text-2xl rounded-lg z-10 hover:text-red-400\" icon={faTrash} />\n\n                      <FontAwesomeIcon onClick={()=>{\n                        handlePostUpdate(post)\n                      }} \n                      className=\"text-blue-200 absolute bg-white bottom-2 right-8 block p-1 text-2xl rounded-lg hover:text-blue-400\" icon={faEdit} />\n                    \n                    </div>\n                    \n                    \n                  : ''}\n\n                    \n                </div>\n                \n              )\n            })}\n        </Masonry>\n      </ResponsiveMasonry>\n\n      {deleting ?\n                        <DeletePopup toggleFunc={()=>{setDeleting(!deleting)}} deleteFunc={()=>{handlePostDelete()}} />\n                      : ''}\n    </div>\n  )\n}\n\nexport default Posts\n","import axios from 'axios'\n\nconst getComments = async (postid) => {\n  const res = await axios.get(`/api/posts/${postid}/comments`)\n  return res.data\n}\n\n// only signed in users\nconst createComment = async (postid, content, token) => {\n  const res = await axios.post(`/api/posts/${postid}/comments`, {content}, {headers: {'authorization': `Bearer ${token}`}})\n  return res\n}\n\n//only author or admin\nconst updateComment = async (postid, comment, token) => {\n  const res = await axios.put(`/api/posts/${postid}/comments/${comment._id}`, {\n    content: comment.content\n  }, {headers: {'authorization': `Bearer ${token}`}})\n\n  return res\n}\n\n// only author or admin\nconst deleteComment = async (postid, commentid, token) => {\n  const res = await axios.delete(`/api/posts/${postid}/comments/${commentid}`, {headers: {'authorization': `Bearer ${token}`}})\n\n  return res\n}\n\nexport { getComments, createComment, updateComment, deleteComment  }","import React, { useEffect, useState } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash, faEdit } from '@fortawesome/free-solid-svg-icons'\nimport DeletePopup from './DeletePopup'\n\nfunction Comment(props) {\n  const [deleting, setDeleting] = useState(false)\n\n  useEffect(()=>{\n    setDeleting(false)\n  },[])\n\n  return (\n    <div key={props.comment.content} className=\"relative border-2 rounded-md p-2 hover:border-gray-800\">\n      <h1 className=\"text-xl font-bold text-center\"\n      >{props.comment.author.username}</h1>\n      <pre className='whitespace-pre-wrap'>{props.comment.content}</pre>\n\n      {props.userDetails.isAdmin ?\n        <FontAwesomeIcon onClick={()=>{\n          setDeleting(!deleting)\n        }} \n        className=\"text-red-200 absolute bg-white bottom-1 right-1 p-1 text-2xl rounded-lg cursor-pointer hover:text-red-400\" icon={faTrash} /> : ''}\n\n      {props.userDetails.id === props.comment.author._id ?\n        <FontAwesomeIcon onClick={()=>{\n          props.handleUpdate(props.comment)\n        }} \n        className=\"text-blue-200 absolute bg-white bottom-1 right-8 block p-1 text-2xl rounded-lg cursor-pointer hover:text-blue-400\" icon={faEdit} /> \n        : ''}\n\n      {deleting ?\n        <DeletePopup toggleFunc={()=>{setDeleting(!deleting)}} deleteFunc={props.handleDelete} />\n      : ''}\n    </div>\n  )\n}\n\nexport default Comment\n","import React, { useEffect, useState } from 'react'\nimport Masonry, { ResponsiveMasonry } from 'react-responsive-masonry'\nimport { useParams } from 'react-router-dom'\nimport { createComment, deleteComment, getComments, updateComment } from '../api/comments'\nimport { getPost } from '../api/posts'\nimport Comment from './Comment'\n\nfunction Post(props) {\n  const [post, setPost] = useState(null)\n  const [comments, setComments] = useState(null)\n  const [postLoading, setPostLoading] = useState(true)\n  const [commentsLoading, setCommentsLoading] = useState(true)\n  const [commentForm, setCommentForm] = useState(false)\n  const [commentContent, setCommentContent] = useState('')\n  const [editMode, setEditMode] = useState(false)\n  const [editingCommentId, setEditingCommentId] = useState('')\n\n  const postid = useParams().postid\n\n  useEffect(() => {\n    getPost(postid).then(data => {\n      setPost(data)\n      setTimeout(()=>{setPostLoading(false)},500)\n    })\n\n    getComments(postid).then(data => {\n      setComments(data)\n      setTimeout(()=>{setCommentsLoading(false)},500)\n    })\n  }, [postid])\n\n  useEffect(() => {\n    if (!props.loggedIn) {\n      setCommentForm(false)\n    }\n  }, [props.loggedIn])\n\n  useEffect(() => {\n    \n    if (!commentsLoading && !postLoading) {\n      document.getElementById('textbox').addEventListener('keydown', e => {\n        if (e.key === 'Tab') {\n          e.preventDefault()\n          setCommentContent(prev => prev.concat(\"  \"))\n        }\n      })\n    }\n\n  }, [postLoading, commentsLoading])\n\n  function toggleComment() {\n    setCommentForm(!commentForm)\n  }\n\n  function handleCommentSubmit(e) {\n    e.preventDefault()\n\n    const token = localStorage.getItem('userToken')\n\n    if (editMode) {\n      //client side\n      const indexOfCommentToUpdate = comments.findIndex((comment, i) => {\n        return comment._id === editingCommentId\n      })\n\n      const newComments = comments\n      newComments[indexOfCommentToUpdate].content = commentContent\n      setComments(newComments)\n      setCommentForm(false)\n      setEditMode(false)\n      setTimeout(() => {\n        setCommentContent('')\n      }, 400)\n\n      //server side\n      updateComment(postid, newComments[indexOfCommentToUpdate], token)\n    }\n\n    else {\n      const newComment = {\n        content: commentContent,\n        author: {\n          _id: props.userDetails.id,\n          username: props.userDetails.username\n        }\n      }\n\n      createComment(postid, newComment.content, token).then(res => {\n        console.log(res);\n        let newComment = res.data.newComment\n        const authorDetails = {\n          _id: props.userDetails.id,\n          username: props.userDetails.username\n        }\n        newComment.author = authorDetails\n        setComments([...comments, newComment])\n        setCommentForm(false)\n      })\n    }\n  }\n\n  function handleCommentInput(e) {\n    setCommentContent(e.target.value)\n  }\n\n  function handleCommentUpdate(comment) {\n    setEditMode(true)\n    setEditingCommentId(comment._id)\n    setCommentContent(comment.content)\n    setCommentForm(true)\n  }\n\n  function exitEditMode() {\n    setEditMode(false)\n    setEditingCommentId('')\n    setCommentForm(false)\n    setTimeout(() => {\n      setCommentContent('')\n    }, 400);\n  }\n\n  function handleCommentDelete(id) {\n    //client side\n    const indexOfCommentToDelete = comments.findIndex((comment, i) => {\n      return comment._id === id\n    })\n\n    let newComments = comments\n    newComments = newComments.filter((comment, i) => {\n      return i !== indexOfCommentToDelete\n    })\n    setComments(newComments)\n    setEditMode(false)\n    setEditingCommentId('')\n\n    //server side\n    const token = localStorage.getItem('userToken')\n    deleteComment(postid, id, token)\n  }\n\n  return (\n    <div className=\"w-11/12 md:w-4/5 mx-auto bg-white p-8 rounded-md mt-4\">\n      {commentsLoading && postLoading ? 'Loading...' :\n        <article>\n          <h1 className=\"text-center text-3xl font-bold border-b pb-1\">{post.title}</h1>\n          <pre className='mt-3 p-1 whitespace-pre-wrap'>{post.content}</pre>\n\n          <p className='border-b pb-1 text-right pr-8'>\n            {'- ' + post.author.username}</p>\n\n          <div className=\"mt-2 p-4\">\n            <h1 className='mt-3 mx-auto text-center font-bold text-2xl'>Comments - {comments.length}</h1>\n\n            {/* add comment button */}\n            {props.loggedIn?  \n            <div>\n              <button className=\"block text-center w-48 py-2 px-3 rounded-md mx-auto my-4 border-2 hover:border-gray-700\"\n              onClick={toggleComment}>\n                Add Comment {commentForm ? '-':'+'}\n              </button>\n\n            </div>\n            : <p className='my-3 w-full text-center'>Login to post comments :)</p> }\n\n            {/* comment form */}\n\n            <div className={'font-bold transition-all duration-500 overflow-hidden w-full text-center mx-auto my-4 ' + (commentForm ? 'h-60 ' : 'h-0 ')}>\n              <form>\n                <label className=\"block mt-2\">\n                  Comment\n                </label>\n                <textarea id='textbox' rows='5' className='block resize-none w-4/5 px-10 mx-auto border-2 rounded-md pl-2 py-1 focus:border-gray-700 focus:outline-none'\n                value={commentContent} onChange={handleCommentInput}/>\n                <button className='my-2 mr-2 border-2 rounded-md px-4 py-2 mx-auto hover:bg-gray-100 hover:border-blue-300'\n                onClick={handleCommentSubmit}>\n                  Submit\n                </button>\n\n                {editMode ? <button className='my-2 border-2 rounded-md px-4 py-2 mx-auto hover:bg-gray-100 hover:border-red-300' onClick={exitEditMode}>Exit Edit Mode</button> : ''}\n\n              </form>\n            </div>\n\n            <ResponsiveMasonry columnsCountBreakPoints={{0:1, 768:2}}>\n              <Masonry gutter='10px'>\n                {comments.map(comment => {\n                  return <Comment comment={comment} handleUpdate={handleCommentUpdate} handleDelete={()=>{handleCommentDelete(comment._id)}} userDetails={props.userDetails} />\n                })}\n              </Masonry>\n            </ResponsiveMasonry>\n          </div>\n        </article>\n      }\n    </div>\n  )\n}\n\nexport default Post\n","import { useState, useEffect } from 'react'\nimport Header from './components/Header'\nimport Posts from './components/Posts'\nimport Post from './components/Post'\nimport { getUserDetails } from './api/users'\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\n\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [userDetails, setUserDetails] = useState({\n    username: ' ',\n    id: ' ',\n    isAdmin: false\n  })\n\n  useEffect(() => {\n    const token = localStorage.getItem('userToken')\n    if (token) {\n      setLoggedIn(true)\n\n      getUserDetails(token).then(data => {\n        setUserDetails(data)\n      })\n    }\n  }, [])\n\n  // if successful login, sets username state and returns jwt from function\n  function login(token, username) {\n    getUserDetails(token).then(data => {\n      setUserDetails(data)\n      setLoggedIn(true)\n      localStorage.setItem('userToken', token)\n    })\n  }\n\n  const signout = () => {\n    localStorage.removeItem('userToken')\n    setLoggedIn(false)\n    setUserDetails({\n      username: ' ',\n      id: ' ',\n      isAdmin: false\n    })\n  }\n\n  return (\n    <div className=\"font-mono bg-gray-800 min-h-screen h-full\">\n    <Router>\n\n      <Header userDetails={userDetails} loggedIn={loggedIn} loginFunc={login} signoutFunc={signout} />\n\n      <Switch>\n        <Route exact path='/' component={Posts}>\n          <Posts loggedIn={loggedIn} userDetails={userDetails}/>\n        </Route>\n\n        <Route path='/:postid' meme={userDetails} component={Post} >\n          <Post loggedIn={loggedIn} userDetails={userDetails} />\n        </Route>\n      </Switch>\n\n    </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}